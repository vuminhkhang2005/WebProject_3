<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Survey</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
        }
        h1 {
            color: teal;
        }
        .section-title {
            font-weight: bold;
            color: teal;
            margin-top: 20px;
        }
        label {
            display: inline-block;
            width: 120px;
            margin-bottom: 8px;
        }
        input[type="text"], input[type="email"], input[type="date"] {
            width: 250px;
            padding: 5px;
        }
        .form-section {
            margin-top: 15px;
        }
        .checkbox-group, .radio-group {
            margin-top: 8px;
        }
        select {
            padding: 5px;
        }
        .submit-btn {
            margin-top: 20px;
        }
        #result {
            display: none;
            margin-top: 30px;
            padding: 15px;
            border: 1px solid #ccc;
            background: #f9f9f9;
        }
        #result h2 {
            color: teal;
        }
    </style>
</head>
<body>

    <!-- Logo fix đường dẫn đúng từ web root -->
    <img src="images/murachlogo.png" alt="Murach Logo">

    <h1>Survey</h1>
    <p>If you have a moment, we’d appreciate it if you would fill out this survey.</p>

    <form id="surveyForm">
        <!-- Your information -->
        <div class="section-title">Your information:</div>
        <div class="form-section">
            <label for="fname">First Name *</label>
            <input type="text" id="fname" name="fname" required
                   oninvalid="this.setCustomValidity('Please fill out First Name')"
                   oninput="this.setCustomValidity('')"><br>

            <label for="lname">Last Name *</label>
            <input type="text" id="lname" name="lname" required
                   oninvalid="this.setCustomValidity('Please fill out Last Name')"
                   oninput="this.setCustomValidity('')"><br>

            <label for="email">Email *</label>
            <input type="email" id="email" name="email" required
                   oninvalid="this.setCustomValidity('Please enter a valid Email')"
                   oninput="this.setCustomValidity('')"><br>

            <label for="dob">Date of Birth *</label>
            <input type="date" id="dob" name="dob" required
                   oninvalid="this.setCustomValidity('Please enter your Date of Birth')"
                   oninput="this.setCustomValidity('')"><br>
        </div>

        <!-- How did you hear about us? -->
        <div class="section-title">How did you hear about us?</div>
        <div class="radio-group">
            <input type="radio" name="source" value="Search engine" checked> Search engine<br>
            <input type="radio" name="source" value="Word of mouth"> Word of mouth<br>
            <input type="radio" name="source" value="Social Media"> Social Media<br>
            <input type="radio" name="source" value="Other"> Other<br>
        </div>

        <!-- Would you like announcements -->
        <div class="section-title">Would you like to receive announcements about new CDs and special offers?</div>
        <div class="checkbox-group">
            <input type="checkbox" name="offers" value="YES, I'd like that."> YES, I'd like that.<br>
            <input type="checkbox" name="emailoffers" value="YES, please send me email announcements."> YES, please send me email announcements.<br>
        </div>

        <div class="form-section">
            Please contact me by:
            <select name="contact" id="contact">
                <option>Email or postal mail</option>
                <option>Email only</option>
                <option>Postal mail only</option>
            </select>
        </div>

        <!-- Submit -->
        <div class="submit-btn">
            <input type="submit" value="Submit">
        </div>
    </form>

    <!-- Result Section -->
    <div id="result">
        <h2>Submitted Information</h2>
        <p><strong>First Name:</strong> <span id="r_fname"></span></p>
        <p><strong>Last Name:</strong> <span id="r_lname"></span></p>
        <p><strong>Email:</strong> <span id="r_email"></span></p>
        <p><strong>Date of Birth:</strong> <span id="r_dob"></span></p>
        <p><strong>Heard about us:</strong> <span id="r_source"></span></p>
        <p><strong>Announcements:</strong> <span id="r_offers"></span></p>
        <p><strong>Contact by:</strong> <span id="r_contact"></span></p>
    </div>

    <script>
        document.getElementById("surveyForm").addEventListener("submit", function(event) {
            event.preventDefault();

            // Basic validation
            if (!this.checkValidity()) {
                alert("Please fill in all required fields correctly.");
                return;
            }

            // Collect values
            document.getElementById("r_fname").textContent = document.getElementById("fname").value;
            document.getElementById("r_lname").textContent = document.getElementById("lname").value;
            document.getElementById("r_email").textContent = document.getElementById("email").value;
            document.getElementById("r_dob").textContent = document.getElementById("dob").value;

            let source = document.querySelector("input[name='source']:checked");
            document.getElementById("r_source").textContent = source ? source.value : "N/A";

            let offers = [];
            document.querySelectorAll("input[type='checkbox']:checked").forEach(cb => offers.push(cb.value));
            document.getElementById("r_offers").textContent = offers.length ? offers.join(", ") : "No";

            document.getElementById("r_contact").textContent = document.getElementById("contact").value;

            // Show result
            document.getElementById("result").style.display = "block";
        });
    </script>

</body>
</html>
